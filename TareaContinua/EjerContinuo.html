<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ejercicio continuo nº5</title>
  </head>
  <!-- 5.- Encierra todo el programa en un bucle para que al usuario se le pregunte repetidamente qué quiere hacer.
     El usuario puede optar por:

    • Mostrar el primer contacto (primero)
    • Mostrar el último contacto (último)
    • Mostrar todos los contactos (todos)
    • Añadir un nuevo contacto (nuevo)
    • Salir del programa (salir)

  Después de ejecutar la acción seleccionada, el programa le dará la oportunidad de elegir nuevamente.
  El programa debe finalizar las acciones solo después de que el usuario dé un comando específico (salir). -->
  <body>
    <script>
      const BODY = document.body
      const PARRAF = document.createElement("p")

      let contactos = [
        {
          nombre: "Maxwell Wright",
          telefono: "(0191) 719 6495",
          correo: "Curabitur.egestas.nunc@nonummyac.co.uk",
        },
        {
          nombre: "Raja Villareal",
          telefono: "0866 398 2895",
          correo: "posuere.vulputate@sed.com",
        },
        {
          nombre: "Helen Richards",
          telefono: "0800 1111",
          correo: "libero@convallis.edu",
        },
      ]

      contactos.push({
        nombre: "Haley",
        telefono: "0913 531 3030",
        correo: "risus.Quisque@urna.ca",
      })

      bucle: while (true) {
        var menu =
          "1. Mostrar el primer contacto\n2. Mostrar el último contacto\n3. Mostrar todos los contactos\n4. Añadir un nuevo contacto\n5. Salir"

        switch (parseInt(prompt(menu, "Elige que quieres hacer"))) {
          case 1: // Visualiar el primer contacto
            let primerContacto = contactos[0]

            console.log(
              "Primer Contacto: ",
              primerContacto.nombre + " /",
              primerContacto.telefono + " /",
              primerContacto.correo
            )

            // insertamos en HTML el primer contacto
            PARRAF.innerHTML +=
              "Primer Contacto: " +
              primerContacto.nombre +
              " / " +
              primerContacto.telefono +
              " / " +
              primerContacto.correo +
              "\n<br/>"
            BODY.appendChild(PARRAF)
            break

          case 2: // Visualizar el ultimo contacto
            let ultimoContacto = contactos[contactos.length - 1]

            console.log(
              ultimoContacto.nombre + " /",
              ultimoContacto.telefono + " /",
              ultimoContacto.correo
            )

            // insertamos en HTML el ultimo contacto
            PARRAF.innerHTML +=
              "Ultimo Contacto: " +
              ultimoContacto.nombre +
              " / " +
              ultimoContacto.telefono +
              " / " +
              ultimoContacto.correo +
              "\n<br/>"
            BODY.appendChild(PARRAF)
            break
          case 3: // Visualizar todos los contactos
            for (const elemento of contactos) {
              PARRAF.innerHTML +=
                "Contacto: " +
                elemento.nombre +
                " / " +
                elemento.telefono +
                " / " +
                elemento.correo +
                "\n<br/>"
            }
            BODY.appendChild(PARRAF)
            break
          case 4: // Añadir un nuevo contacto
            let nombreContactoNuevo = prompt(
              "Escribe el nombre del nuevo contacto"
            )

            // Comprobamos si el nombre ha sido introducido
            while (nombreContactoNuevo == null || nombreContactoNuevo === "") {
              nombreContactoNuevo = prompt(
                "No se ha introducido el nombre del nuevo contacto, prueba de nuevo"
              )
            }

            let telefonoContactoNuevo = prompt(
              "Escribe el telefono del nuevo contacto"
            )
            // Comprobamos si el telefono ha sido introducido
            while (
              telefonoContactoNuevo == null ||
              telefonoContactoNuevo === ""
            ) {
              telefonoContactoNuevo = prompt(
                "No se ha introducido el telefono del nuevo contacto, prueba de nuevo"
              )
            }

            let correoContactoNuevo = prompt(
              "Escribe el correo del nuevo contacto"
            )
            // Comprobamos si el correo ha sido introducido
            while (correoContactoNuevo == null || correoContactoNuevo === "") {
              correoContactoNuevo = prompt(
                "No se ha introducido el correo del nuevo contacto, prueba de nuevo"
              )
            }

            contactos.push({
              nombre: nombreContactoNuevo,
              telefono: telefonoContactoNuevo,
              correo: correoContactoNuevo,
            })
            break

          case 5:
            alert("Cerrando Programa")
            break bucle
          default: // Si no se ha introducido un numero no valido o una cadena de texto, lanzamos mensaje de error
            alert("Ha ocurrio algun error por favor intentelo de nuevo")
            break
        }
      }
    </script>
  </body>
</html>
